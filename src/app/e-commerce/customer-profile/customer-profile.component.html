<div class="grid grid-nogutter" style="background-color: #fff;width:100%">
  <div class="p-fluid card" style="width:100%">
    
    <div class="col-12 mb-3">
      <h4 class="mb-2" style="text-align: left;color:green;">
        {{ 'Customer Information:' | translate }}
      </h4>
    </div>
   <form [formGroup]="this._service.form" (ngSubmit)="onSubmit()">
     <div class="grid nogutter">
       <div class="col-6" style="padding-bottom: 0">
         <div class="field">
             <span class="p-float-label">
             <input type="text" id="name" pInputText formControlName="name"
             [ngClass]="this._service.form.get('name').hasError('required') && (this._service.form.get('name').touched)? 'ng-invalid ng-dirty': ''">
             <label for="name">{{ 'Name' | translate }}</label>
           </span>
         </div>
       </div>
       
       <div class="col-6" style="padding-bottom: 0">
        <div class="field">
            <span class="p-float-label">
            <input type="text" id="phone" pInputText formControlName="phoneNumber"
            [ngClass]="(this._service.form.get('phoneNumber').hasError('required') && (this._service.form.get('phoneNumber').touched)) ||
                           (this._service.form.get('phoneNumber').hasError('maxlength') && (this._service.form.get('phoneNumber').touched)) ||
                           (this._service.form.get('phoneNumber').hasError('minlength') && (this._service.form.get('phoneNumber').touched))? 'ng-invalid ng-dirty': ''">
            <label for="phone">{{ 'Phone Number' | translate }}<span class="text-danger">*</span></label>
          </span>
        </div>
        <label *ngIf="(this._service.form.get('phoneNumber').hasError('required') && (this._service.form.get('phoneNumber').touched)) &&
            ((this._service.form.get('phoneNumber').hasError('minlength') && (this._service.form.get('phoneNumber').touched)) ||
            (this._service.form.get('phoneNumber').hasError('maxlength') && (this._service.form.get('phoneNumber').touched)))"
            style="padding-top: 5px; padding-left: 5px; padding-bottom: 0; margin:0; color: darkred; text-align: left">
           <small>Phone Number Must Be 11 Digit</small>
        </label>
        <label *ngIf="this._service.form.get('phoneNumber').hasError('exists') && (this._service.form.get('phoneNumber').touched)"
          style="padding-top: 5px; padding-left: 5px; padding-bottom: 0; margin:0; color: darkred; text-align: left">
          <small>{{(_service.form.get('phoneNumber').value).trim()}} already exists!!</small>
        </label>
       </div>
        <div class="col-12" style="padding-bottom: 0">
        <div class="field">
            <span class="p-float-label">
            <input type="text" id="name" pInputText formControlName="email">
            <label for="name">{{ 'Email' | translate }}</label>
          </span>
        </div>
      </div>
       
       <div class="col-6" style="padding-bottom: 0">
        <div class="field">
            <span class="p-float-label">
            <textarea [rows]="3" type="text" id="address" pInputText formControlName="address"></textarea>
            <label for="address??">{{ 'Address' | translate }}</label>
          </span>
        </div>
       </div>
         <div class="col-12 file-upload" *ngIf="this._service.form.get('id').value">
        <div class="grid" style="width:100%;">
          <div class="col-6">
            <p-fileUpload #fileUpload [customUpload]="true"
            (uploadHandler)="onUpload($event, fileUpload)"
            accept="image/*" [maxFileSize]="500000" uploadLabel="{{ uploadInProgress? this.translate.instant('Uploading') :  this.translate.instant('Upload')}}"
            [disabled]="uploadInProgress"
            chooseLabel="{{ 'Upload your photo' | translate }}"></p-fileUpload>
          </div>

          <div class="col-6" style="text-align: left;">
            <img *ngIf="customer?.customerPhotoUrl" src="{{baseUrl}}/{{this.customer?.customerPhotoUrl}}" alt="profilephoto"
                height="110px" width="100%" style="width:fit-content;margin-left:10px;" [draggable]="false">
            <img *ngIf="!customer?.customerPhotoUrl" src="assets/images/default-img.png" alt="profilephoto"
                height="110px" width="100%" style="width:fit-content;margin-left:10px;" [draggable]="false">
          </div>
        </div>
      </div>
      
      <div class="col-6 ml-auto text-end">
        <button style="width:fit-content;" pButton pRipple [disabled]="inProgress"
          label="{{ inProgress? this.translate.instant('Please Wait'):this._service.form.get('id').value? this.translate.instant('Update'):this.translate.instant('Add') }} {{ 'Information' | translate }}"
          icon="pi pi-check" class="p-button-primary" type="submit">
        </button>
       </div>

     </div>
   </form>
  </div>
 </div>


